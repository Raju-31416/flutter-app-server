"use strict";
const isvServerApi = require("./lib/isv_server_api");

const checkParams = function(param) {
	const checkByKeyName = function(key) {
		if (!param[key]) {
			throw new Error(`${key} can't be null`);
		}
	};
	if (!param) {
		throw new Error("param can't be null");
	}
	["suiteKey", "suiteSecret", "domainId", "orgId", "isvServer"].forEach(checkByKeyName);
};

const getInstance = function(param) {
	checkParams(param);
	return isvServerApi(param);
};
module.exports = getInstance;